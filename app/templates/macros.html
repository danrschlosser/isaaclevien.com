{% macro render_field(field, label=True, hidden=False) %}
{% set class = kwargs.get('class', '') + ' form-control' %}
{% if field.errors %}
	{% set class = class + ' invalid' %}
{% endif %}
{% if hidden %}
	{% set class = class + ' hidden' %}
{% endif %}

<div class="{{class}}">

	{% if label %}
	{{ field.label }}
	{% endif %}

	{{ field(class=class, **kwargs) | safe }}

	{% if field.errors %}
	<ul class="errors">
	{% for error in field.errors %}
	  	<li>{{ error }}</li>
	{% endfor %}
	</ul>
	{% endif %}

</div>
{% endmacro %}

{% macro render_gig(gig, controls=False) %}
{% set class = kwargs.get('class', '') + ' gig' %}
<li class="{{class}}">
	<div class="item">
		{% if gig.band %}
		<p class="title">{{gig.band}} at {{ gig.location}}</p>
		{% else %}
		<p class="title">{{gig.location}}</p>
		{% endif %}
		<p class="date">{{gig.date_string()}}</p>
	</div>
	<div class="details">{{gig.details_html | safe}}</div>
</li>
{% endmacro %}

{% macro status() %}
<div id="status">
	<label class="status-saving">
		<i class="fa fa-spinner"></i> Saving...
	</label>
	<label class="status-saved">
		<i class="fa fa-check"></i> Saved
	</label>
	<label class="status-error">
		<i class="fa fa-times"></i> Error
	</label>
</div>
{% endmacro %}